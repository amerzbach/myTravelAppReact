(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(25),i=a.n(r),o=(a(41),a(68),a(137)),c=function(){return n.a.createElement(o.a,{className:"nav",bg:"primary",variant:"dark"},n.a.createElement(o.a.Brand,{href:"/"},"myTravelApp v1"),n.a.createElement(o.a.Brand,{href:"/Flights"},"Flights"),n.a.createElement(o.a.Brand,{href:"/Hotels"},"Hotels"),n.a.createElement(o.a.Brand,{href:"/Bikes"},"Bikes"))},h=a(16),u=a(7),m=a(8),s=a(10),d=a(9),g=a(11),E=(a(77),a(58)),p=a.n(E),F=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"hero"},n.a.createElement(p.a,{src:this.props.videosrc}),n.a.createElement("div",{className:"hero-text"},n.a.createElement("h1",null,this.props.h1),n.a.createElement("h2",null,this.props.h2)))}}]),t}(l.Component),f=a(27),b=a(138),D=a(59),v=a(139),T=a(28),y=a.n(T),C=function(e,t,a,l){return y.a.post("/api/Flights",{flightFrom:e,flightTo:t,dateFlightFrom:a,dateFlightTo:l}).then(function(e){return console.log(e.data),e.data})},A=function(e,t,a){return y.a.post("/api/Hotels",{flightTo:e,dateFlightFrom:t,dateFlightTo:a}).then(function(e){return console.log(e.data),e.data})},w=function(e){return y.a.get("/api/Hotels/search/".concat(e)).then(function(e){return e.data})},O=a(20),S=function(e){return e=(e=(e=(e=(e=e.replace(/P/,"")).replace(/T/,"")).replace(/D/,"D ")).replace(/H/,"H ")).replace(/M/,"m")},j=function(e){var t=new Date(e),a=t.getFullYear(),l=t.getMonth()+1,n=t.getDate(),r=t.getHours(),i=t.getMinutes();return n<10&&(n="0"+n),l<10&&(l="0"+l),i<10&&(i="0"+i),r+":"+i+" "+n+"/"+l+"/"+a},k=function(e){var t=new Date(e),a=t.getFullYear(),l=t.getMonth()+1,n=t.getDate();return n<10&&(n="0"+n),l<10&&(l="0"+l),a+"-"+l+"-"+n},L=function(e){var t=new Date;return t.setHours(0,0),t.setDate(t.getDate()+e),t},I=function(e,t){var a=new Date(e);return a=a.setDate(a.getDate()+t)},H=function(e){var t=new Date(e),a=t.getFullYear(),l=t.getMonth()+1,n=t.getDate();return n<10&&(n="0"+n),l<10&&(l="0"+l),a+"-"+l+"-"+n},x=function(e){function t(){var e,a;Object(u.a)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={flightFrom:"",flightTo:"",dateFlightFrom:L(0),dateFlightTo:L(0),flightsDataInbound:[],flightsDataOutbound:[],error:""},a.handleChange=function(e){var t=e.target,l=t.name,n=t.value;a.setState(Object(f.a)({},l,n))},a.handleDateFlightFromChange=function(e){var t=new Date(e.target.value);t>new Date(a.state.dateFlightTo)?a.setState({dateFlightFrom:t,dateFlightTo:t}):a.setState({dateFlightFrom:t})},a.handleDateFlightToChange=function(e){var t=new Date(a.state.dateFlightFrom),l=new Date(e.target.value);t>l?a.setState({dateFlightFrom:l,dateFlightTo:l}):a.setState({dateFlightTo:l})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,l=t.flightFrom,n=t.flightTo,r=t.dateFlightFrom,i=t.dateFlightTo;Object(O.trackPromise)(C(l,n,k(r),k(i)).then(function(e){a.props.refreshflightsList(e),a.setState({flightFrom:e.flightFrom,flightTo:e.flightTo,dateFlightFrom:new Date(e.dateFlightFrom),dateFlightTo:new Date(e.dateFlightTo),flightsDataInbound:e.flightsDataInbound,flightsDataOutbound:e.flightsDataOutbound})})).catch(function(e){console.log(e)})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{align:"center"},n.a.createElement("br",null),n.a.createElement(b.a,{onSubmit:this.handleSubmit,style:{width:"95%"}},n.a.createElement(b.a.Row,null,n.a.createElement(D.a,null,n.a.createElement(b.a.Label,{htmlFor:"flightFrom"},"From"),n.a.createElement(b.a.Control,{type:"text",onChange:this.handleChange,id:"flightFrom",name:"flightFrom",value:this.state.flightFrom||"",placeholder:"Origin airport IATA Code",required:!0})),n.a.createElement(D.a,null,n.a.createElement(b.a.Label,{htmlFor:"flightTo"},"To"),n.a.createElement(b.a.Control,{type:"text",onChange:this.handleChange,id:"flightTo",name:"flightTo",value:this.state.flightTo||"",placeholder:"Destination airport IATA Code",required:!0})),n.a.createElement(D.a,null,n.a.createElement(b.a.Label,{htmlFor:"dateFlightFrom"},"Date From"),n.a.createElement(b.a.Control,{type:"date",onChange:this.handleDateFlightFromChange,id:"dateFlightFrom",name:"dateFlightFrom",value:H(this.state.dateFlightFrom),min:H(L(0)),required:!0})),n.a.createElement(D.a,null,n.a.createElement(b.a.Label,{htmlFor:"dateFlightTo"},"Date To"),n.a.createElement(b.a.Control,{type:"date",onChange:this.handleDateFlightToChange,id:"dateFlightTo",name:"dateFlightTo",value:H(this.state.dateFlightTo),min:H(L(0))}))),n.a.createElement(b.a.Row,null,n.a.createElement(D.a,null,n.a.createElement("br",null),n.a.createElement(v.a,{type:"submit"},"Flight Search")))))}}]),t}(l.Component),M=a(136),N=function(e){return n.a.createElement("div",{align:"center",style:{position:"absolute",zIndex:1,width:"100%"}},n.a.createElement("br",null),e.inboundFlights.length>0&&n.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{width:"95%"},id:"inboundTable"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"7",class:"bg-primary text-white"},"Inbound Flights"))),n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Duration"),n.a.createElement("th",null,"Airline"),n.a.createElement("th",null,"Flight"),n.a.createElement("th",null,"Dep Airport"),n.a.createElement("th",null,"Arr Airport"),n.a.createElement("th",null,"Dep"),n.a.createElement("th",null,"Arr"))),n.a.createElement("tbody",null,e.inboundFlights.map(function(e){if(Array.isArray(e.Flight)){var t=e.Flight.length-1,a=S(e.TotalJourney.Duration);return e.Flight.map(function(e,l){return 0===l?n.a.createElement("tr",null,n.a.createElement("td",{rowSpan:t+1},a," ",n.a.createElement("br",null),t,t>1?" Stops":" Stop"),n.a.createElement("td",null,e.MarketingCarrier.AirlineID),n.a.createElement("td",null,e.MarketingCarrier.FlightNumber),n.a.createElement("td",null,e.Departure.AirportCode),n.a.createElement("td",null,e.Arrival.AirportCode),n.a.createElement("td",null,j(e.Departure.ScheduledTimeLocal.DateTime)),n.a.createElement("td",null,j(e.Arrival.ScheduledTimeLocal.DateTime))):n.a.createElement("tr",null,n.a.createElement("td",null,e.MarketingCarrier.AirlineID),n.a.createElement("td",null,e.MarketingCarrier.FlightNumber),n.a.createElement("td",null,e.Departure.AirportCode),n.a.createElement("td",null,e.Arrival.AirportCode),n.a.createElement("td",null,j(e.Departure.ScheduledTimeLocal.DateTime)),n.a.createElement("td",null,j(e.Arrival.ScheduledTimeLocal.DateTime)))})}return n.a.createElement("tr",null,n.a.createElement("td",null,S(e.TotalJourney.Duration),n.a.createElement("br",null),"Non-stop"),n.a.createElement("td",null,e.Flight.MarketingCarrier.AirlineID),n.a.createElement("td",null,e.Flight.MarketingCarrier.FlightNumber),n.a.createElement("td",null,e.Flight.Departure.AirportCode),n.a.createElement("td",null,e.Flight.Arrival.AirportCode),n.a.createElement("td",null,j(e.Flight.Departure.ScheduledTimeLocal.DateTime)),n.a.createElement("td",null,j(e.Flight.Arrival.ScheduledTimeLocal.DateTime)))}))),n.a.createElement("br",null),e.outboundFlights.length>0&&n.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{width:"95%"},id:"outboundTable"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"7",class:"bg-primary text-white"},"Outbound Flights")),n.a.createElement("tr",null,n.a.createElement("th",null,"Duration"),n.a.createElement("th",null,"Airline"),n.a.createElement("th",null,"Flight"),n.a.createElement("th",null,"Dep Airport"),n.a.createElement("th",null,"Arr Airport"),n.a.createElement("th",null,"Dep"),n.a.createElement("th",null,"Arr"))),n.a.createElement("tbody",null,e.outboundFlights.map(function(e){if(Array.isArray(e.Flight)){var t=e.Flight.length-1,a=S(e.TotalJourney.Duration);return e.Flight.map(function(e,l){return 0===l?n.a.createElement("tr",null,n.a.createElement("td",{rowSpan:t+1},a," ",n.a.createElement("br",null),t,t>1?" Stops":" Stop"),n.a.createElement("td",null,e.MarketingCarrier.AirlineID),n.a.createElement("td",null,e.MarketingCarrier.FlightNumber),n.a.createElement("td",null,e.Departure.AirportCode),n.a.createElement("td",null,e.Arrival.AirportCode),n.a.createElement("td",null,j(e.Departure.ScheduledTimeLocal.DateTime)),n.a.createElement("td",null,j(e.Arrival.ScheduledTimeLocal.DateTime))):n.a.createElement("tr",null,n.a.createElement("td",null,e.MarketingCarrier.AirlineID),n.a.createElement("td",null,e.MarketingCarrier.FlightNumber),n.a.createElement("td",null,e.Departure.AirportCode),n.a.createElement("td",null,e.Arrival.AirportCode),n.a.createElement("td",null,j(e.Departure.ScheduledTimeLocal.DateTime)),n.a.createElement("td",null,j(e.Arrival.ScheduledTimeLocal.DateTime)))})}return n.a.createElement("tr",null,n.a.createElement("td",null,S(e.TotalJourney.Duration),n.a.createElement("br",null),"Non-stop"),n.a.createElement("td",null,e.Flight.MarketingCarrier.AirlineID),n.a.createElement("td",null,e.Flight.MarketingCarrier.FlightNumber),n.a.createElement("td",null,e.Flight.Departure.AirportCode),n.a.createElement("td",null,e.Flight.Arrival.AirportCode),n.a.createElement("td",null,j(e.Flight.Departure.ScheduledTimeLocal.DateTime)),n.a.createElement("td",null,j(e.Flight.Arrival.ScheduledTimeLocal.DateTime)))}))))},B=function(e){function t(){var e,a;Object(u.a)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={flightsDataInbound:[],flightsDataOutbound:[]},a.refreshflightsList=function(e){a.setState({flightsDataInbound:e.flightsDataInbound,flightsDataOutbound:e.flightsDataOutbound})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(F,{videosrc:"https://pixabay.com/videos/download/video-10816_medium.mp4",h1:"Flights",h2:"Choose your flights. Fly high."}),n.a.createElement(x,{refreshflightsList:this.refreshflightsList}),n.a.createElement(N,{inboundFlights:this.state.flightsDataInbound,outboundFlights:this.state.flightsDataOutbound}))}}]),t}(l.Component),J=function(e){function t(){var e,a;Object(u.a)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={flightTo:"",dateFlightFrom:L(0),dateFlightTo:L(1),hotelsData:[],error:""},a.handleChange=function(e){var t=e.target,l=t.name,n=t.value;a.setState(Object(f.a)({},l,n))},a.handleDateFlightFromChange=function(e){var t=new Date(e.target.value);t>=new Date(a.state.dateFlightTo)?a.setState({dateFlightFrom:t,dateFlightTo:I(t,1)}):a.setState({dateFlightFrom:t})},a.handleDateFlightToChange=function(e){var t=new Date(a.state.dateFlightFrom),l=new Date(e.target.value);t>=l?a.setState({dateFlightFrom:I(l,-1),dateFlightTo:l}):a.setState({dateFlightTo:l})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,l=t.flightTo,n=t.dateFlightFrom,r=t.dateFlightTo;Object(O.trackPromise)(A(l,k(n),k(r)).then(function(e){a.props.refreshHotelsList(e),a.setState({flightTo:e.flightTo,dateFlightFrom:new Date(e.dateFlightFrom),dateFlightTo:new Date(e.dateFlightTo),hotelsData:e.hotelsData})})).catch(function(e){console.log(e)})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{align:"center"},n.a.createElement(b.a,{onSubmit:this.handleSubmit,style:{width:"95%"}},n.a.createElement(b.a.Row,null,n.a.createElement(D.a,null,n.a.createElement(b.a.Label,{htmlFor:"flightTo"},"Hotel Location"),n.a.createElement(b.a.Control,{type:"text",onChange:this.handleChange,id:"flightTo",name:"flightTo",value:this.state.flightTo||"",placeholder:"Destination airport IATA Code",required:!0})),n.a.createElement(D.a,null,n.a.createElement(b.a.Label,{htmlFor:"dateFlightFrom"},"Date From"),n.a.createElement(b.a.Control,{type:"date",onChange:this.handleDateFlightFromChange,id:"dateFlightFrom",name:"dateFlightFrom",value:H(this.state.dateFlightFrom),min:H(L(0)),required:!0})),n.a.createElement(D.a,null,n.a.createElement(b.a.Label,{htmlFor:"dateFlightTo"},"Date To"),n.a.createElement(b.a.Control,{type:"date",onChange:this.handleDateFlightToChange,id:"dateFlightTo",name:"dateFlightTo",value:H(this.state.dateFlightTo),min:H(L(1))}))),n.a.createElement(b.a.Row,null,n.a.createElement(D.a,null,n.a.createElement("br",null),n.a.createElement(v.a,{type:"submit"},"Hotel Search")))))}}]),t}(l.Component),P=a(18),q=function(e){return n.a.createElement("div",{align:"center",style:{position:"absolute",zIndex:1,width:"95%"}},n.a.createElement("br",null),e.hotelsData.length>0&&n.a.createElement("div",{align:"center"},e.hotelsData.map(function(e){return n.a.createElement("div",null,n.a.createElement("img",{src:"http://photos.hotelbeds.com/giata/bigger/".concat(e.images[0].path),alt:"Hotel",align:"right"}),n.a.createElement("h3",null,n.a.createElement(P.b,{to:"/Hotels/".concat(e.code)},e.name.content),n.a.createElement("img",{src:"http://cdn4.hotelopia.com/freya/img/stars/".concat(e.categoryCode,".gif"),alt:"Hotel Stars"})),n.a.createElement("p",null,e.description.content))})))},R=function(e){function t(){var e,a;Object(u.a)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={hotelsData:[]},a.refreshHotelsList=function(e){a.setState({hotelsData:e.hotelsData})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(F,{videosrc:"https://pixabay.com/videos/download/video-24216_medium.mp4",h1:"Hotels",h2:"Whether luxurious, comfortable or just exciting. You choose."}),n.a.createElement(J,{refreshHotelsList:this.refreshHotelsList}),n.a.createElement(q,{hotelsData:this.state.hotelsData}))}}]),t}(l.Component),Y=a(38),z=a.n(Y),W=function(e){function t(){var e,a;Object(u.a)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={hotelDetails:[]},a.getHotelData=function(){var e=a.props.match.params.id;return w(e).then(function(e){a.setState({hotelDetails:e})}).catch(function(e){console.log(e)})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getHotelData()}},{key:"render",value:function(){return n.a.createElement("div",{align:"center",style:{width:"95%"}},Object.entries(this.state.hotelDetails).length>0&&n.a.createElement("div",null,n.a.createElement("h1",null,this.state.hotelDetails.hotel.name.content,n.a.createElement("img",{src:"http://cdn4.hotelopia.com/freya/img/stars/".concat(this.state.hotelDetails.hotel.category.code,".gif"),alt:"Hotel Stars"})),n.a.createElement("p",null,this.state.hotelDetails.hotel.description.content),n.a.createElement(z.a,null,this.state.hotelDetails.hotel.images.map(function(e){return n.a.createElement(z.a.Item,null,n.a.createElement("img",{className:"d-block w-100",src:"http://photos.hotelbeds.com/giata/bigger/".concat(e.path),alt:" "}))}))))}}]),t}(l.Component),_=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null)}}]),t}(l.Component);var $=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(c,null),n.a.createElement(h.c,null,n.a.createElement(h.a,{exact:!0,path:"/Flights",component:B}),n.a.createElement(h.a,{exact:!0,path:"/Hotels",component:R}),n.a.createElement(h.a,{exact:!0,path:"/Hotels/:id",component:W}),n.a.createElement(h.a,{exact:!0,path:"/Bikes",component:_})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(62),K=a.n(G);i.a.render(n.a.createElement(P.a,null,n.a.createElement($,null),n.a.createElement(function(e){return Object(O.usePromiseTracker)().promiseInProgress&&n.a.createElement("div",{style:{position:"absolute",zIndex:2147483647,width:"100%",height:"100",display:"flex",justifyContent:"center",alignItems:"center"}},n.a.createElement(K.a,{type:"Plane",color:"#ffffff",height:"100",width:"100"}))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},63:function(e,t,a){e.exports=a(133)},68:function(e,t,a){},77:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.445140ef.chunk.js.map